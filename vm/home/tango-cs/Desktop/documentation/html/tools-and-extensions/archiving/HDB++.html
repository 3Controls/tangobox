

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HDB++ &mdash; Tango Controls 9.2.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Tango Controls 9.2.5 documentation" href="../../index.html"/>
        <link rel="up" title="Tools and Extensions" href="../index.html"/>
        <link rel="next" title="Taurus (Python GUI library)" href="../taurus/index.html"/>
        <link rel="prev" title="HDB" href="HDB.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../contents.html" class="icon icon-home"> Tango Controls
          

          
            
            <img src="../../_static/logo_tangocontrols_white.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                9.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to Tango Controls documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Developer’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tools and Extensions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../astor/index.html">Astor (TANGO Manager)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jive/index.html">Jive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pogo/index.html">Pogo (Class Generator)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jdraw/jdraw.html">Synoptic and JDraw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../atk/index.html">Tango Application Toolkit “ATK”</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logviewer/index.html">LogViewer Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qtango/qtango.html">QTango</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canone.html">Canone</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="HDB.html">HDB</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">HDB++</a></li>
<li class="toctree-l2"><a class="reference internal" href="../taurus/index.html">Taurus (Python GUI library)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/c-lang.html">C Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/matlab-and-octave.html">Matlab &amp; Octave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/labVIEW.html">LabVIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/igor-pro.html">Igor Pro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/panorama.html">Panorama</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/advanced/rest-api.html">Tango REST API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials-and-howtos/index.html">Tutorials and How-Tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">Tango Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Tools and Extensions</a> &raquo;</li>
        
      <li>HDB++</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/tools-and-extensions/archiving/HDB++.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hdb">
<span id="hdbpp-manual"></span><h1>HDB++<a class="headerlink" href="#hdb" title="Permalink to this headline">¶</a></h1>
<div class="section" id="target">
<h2>Target<a class="headerlink" href="#target" title="Permalink to this headline">¶</a></h2>
<p>This document is directed to beginner developer.</p>
</div>
<div class="section" id="primary-presentation">
<h2>Primary Presentation<a class="headerlink" href="#primary-presentation" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../_images/image21.png"><img alt="image0" src="../../_images/image21.png" style="width: 6.26772in; height: 3.37500in;" /></a></p>
<p>Figure 1: HDB++ Runtime View (part one)</p>
<p><a class="reference internal" href="../../_images/image42.png"><img alt="image1" src="../../_images/image42.png" style="width: 6.26772in; height: 3.62500in;" /></a></p>
<p>Figure 2: HDB++ Runtime View (part two)</p>
</div>
<div class="section" id="elements">
<h2>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Block</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HDB++ Viewer</td>
<td>Standalone JAVA application designed to monitor signals coming from HDB++. It has been written using Swing and needs a JVM higher than 1.7.0. <a class="reference external" href="http://www.esrf.eu/computing/cs/tango/tango_doc/hdb_viewer/index.html">*More information*</a>.</td>
</tr>
<tr class="row-odd"><td>HDB++ Configuration</td>
<td>Standalone JAVA application that allows interaction with the configuration manager in order to add, modify, move or delete an attribute from the archiving system</td>
</tr>
<tr class="row-even"><td>HDB++ Diagnostic</td>
<td>Standalone JAVA application that visualizes both the status of all the archiver device servers and the overall archiving system</td>
</tr>
<tr class="row-odd"><td>Archiving DB</td>
<td>Specific Database devoted to storing attribute values. It can be either Mysql or Cassandra for the moment.</td>
</tr>
<tr class="row-even"><td>Tango Configuration DB</td>
<td>Tango database where every property and configuration of the Tango control framework is stored</td>
</tr>
<tr class="row-odd"><td>Archiver</td>
<td><p class="first">The EventSubscriber TANGO device server, or Archiver, is the archiving system engine. On typical usage, it will subscribe to archive events on request by the ConfigurationManager device. The EventSubscriber is designed to start archiving all the already configured Attributes, even if the ConfigurationManager is not running. Moreover, being a TANGO device, the EventSubscriber configuration can be managed with Jive.</p>
<p class="last">The list of Attributes to be gathered by each EventSubscriber is stored in the AttributeList Property of the EventSubscriber device.</p>
</td>
</tr>
<tr class="row-even"><td>Device Server i</td>
<td>Generic Device server that contains one or more devices that needs to archive one or more attributes</td>
</tr>
<tr class="row-odd"><td>Configurator Server</td>
<td>Device server that assists in adding, modifying, moving, deleting multiple attributes in the archiving system using the Configuration Manager.</td>
</tr>
<tr class="row-even"><td>Configuration Manager</td>
<td>Device server that assists in adding, modifying, moving, deleting an Attribute to/from the archiving system</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rationale">
<h2>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h2>
<p>The HBD++ archiving system is built on top of the Tango Event model
which provides a specific event for archiving, this is the <strong>archive
event</strong>. The archive events are configured with three attributes
properties:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>archive_abs_change:</strong> a Property of up to 2 values, positive and</dt>
<dd>negative delta, that specifies the absolute change with respect
to the previous Attribute value, which triggered the event. If
only one value is specified it is used for both positive and
negative change. If no thresholds are specified then the relative
change is used.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>archive_rel_change</strong>: a Property of up to 2 values, positive and</dt>
<dd>negative delta, that specifies the relative change with respect
to the previous Attribute value, which triggered the event. If
only one value is specified it is used for both positive and
negative change. If no thresholds are specified archive events
are not sent on value change.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>archive_period</strong>: the time between which periodic archive events</dt>
<dd>are sent, in milliseconds. If no period is specified no periodic
archive events are sent.</dd>
</dl>
</li>
</ul>
<p>Usually it is composed of several TANGO device servers (Archiver aka
EventSubscriber), but there must be at least one device server. Each
EventSubscriber device is in charge of archiving a number of attributes
from a number of devices. The number of EventSubscriber TANGO devices to
deploy and the number of TANGO devices/Attributes in charge of each
subscriber is not bounded and depends on the desired performance.</p>
<p>The ConfigurationManager device server manages a pool of
EventSubscribers; the list is stored in the ArchiverList property of
each ConfigurationManager device, and is updated via the ArchiverAdd,
ArchiverRemove and AttributeSetArchiver commands. The list is stored in
the ArchiverList device Property of the ConfigurationManager device
using the FQDN syntax. This tells the ConfigurationManager everything
which is needed to connect to the managed EventSubscribers: protocol,
host, port and device name. Figure 5 shows a screenshot of the
ArchiverList Property of a ConfigurationManager device instance; in this
case all the managed EventSubscriber devices belong to the same TANGO
facility (srv-tango-srf.fcs.elettra.trieste.it:20000).</p>
<p>More information is available in <a class="reference internal" href="../../administration/services/hdbpp/index.html#hdbpp-service"><span class="std std-ref">HDB++ - an archiving/historian service</span></a>.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../taurus/index.html" class="btn btn-neutral float-right" title="Taurus (Python GUI library)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="HDB.html" class="btn btn-neutral" title="HDB" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Tango Community, Creative Commons Attribution 4.0 International (CC BY 4.0).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'9.2.5',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>