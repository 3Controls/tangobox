

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Synoptic and JDraw &mdash; Tango Controls 9.2.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Tango Controls 9.2.5 documentation" href="../../index.html"/>
        <link rel="up" title="Tools and Extensions" href="../index.html"/>
        <link rel="next" title="Tango Application Toolkit “ATK”" href="../atk/index.html"/>
        <link rel="prev" title="Pogo-6 Compatibility" href="../pogo/compatibility.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../contents.html" class="icon icon-home"> Tango Controls
          

          
            
            <img src="../../_static/logo_tangocontrols_white.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                9.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to Tango Controls documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Developer’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tools and Extensions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../astor/index.html">Astor (TANGO Manager)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jive/index.html">Jive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pogo/index.html">Pogo (Class Generator)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Synoptic and JDraw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../atk/index.html">Tango Application Toolkit “ATK”</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logviewer/index.html">LogViewer Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qtango/qtango.html">QTango</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canone.html">Canone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../archiving/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../archiving/HDB.html">HDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../archiving/HDB++.html">HDB++</a></li>
<li class="toctree-l2"><a class="reference internal" href="../taurus/index.html">Taurus (Python GUI library)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/c-lang.html">C Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/matlab-and-octave.html">Matlab &amp; Octave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/labVIEW.html">LabVIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/igor-pro.html">Igor Pro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings/panorama.html">Panorama</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/advanced/rest-api.html">Tango REST API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials-and-howtos/index.html">Tutorials and How-Tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">Tango Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Tools and Extensions</a> &raquo;</li>
        
      <li>Synoptic and JDraw</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/tools-and-extensions/jdraw/jdraw.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="synoptic-and-jdraw">
<span id="jdraw-manual"></span><h1>Synoptic and JDraw<a class="headerlink" href="#synoptic-and-jdraw" title="Permalink to this headline">¶</a></h1>
<p>ATK includes a graphical editor, to design the graphic shape of the
synoptic. The editor is called <strong>Jdraw</strong>. This editor is included in
ATK so you don’t need to download any specific jarfile.</p>
<p>To launch <strong>jdraw</strong> you should start the following class :</p>
<p><strong>fr.esrf.tangoatk.widget.util.jdraw.JdrawEditorFrame</strong></p>
<p>Once the jdraw is started you will see the following window :</p>
<p><a class="reference internal" href="../../_images/image32.jpeg"><img alt="image28" src="../../_images/image32.jpeg" style="width: 6.29792in; height: 5.23819in;" /></a></p>
<p>You can now start to draw the synoptic. As in any drawing editor you can
group basic objects (like rectangle, circle, lines, …) to obtain more
elaborated shapes. Once the drawing is done you need to associate parts
of the drawing to a Tango control system object. Click on the following
link to view a Flash demo of how to draw a simple tango synoptic.</p>
<p><a class="reference external" href="http://www.esrf.fr/computing/cs/tango/tango_doc/atk_tutorial/flash-demos/jdraw.htm">First synoptic (Flash
Demo)</a></p>
<div class="section" id="test-the-synoptic-tango-synoptic-view">
<h2>Test the synoptic : “Tango Synoptic view”<a class="headerlink" href="#test-the-synoptic-tango-synoptic-view" title="Permalink to this headline">¶</a></h2>
<p>As soon as the synoptic is saved in a file, it’s run time behavior can
be tested. Inside Jdraw, select “Tango Synoptic view” from the “Views”
pulldown menu to test the run time behavior of the synoptic.</p>
<p><a class="reference internal" href="../../_images/image33.jpeg"><img alt="image29" src="../../_images/image33.jpeg" style="width: 5.52986in; height: 4.22639in;" /></a></p>
<p>You can also start the same simple synoptic application outside jdraw
editor. This application is called SimpleSynopticAppli and is included
in ATK. You don’t need any specific jarfile to use it.To launch
<strong>SimpleSynopticAppli</strong> you should start the following class :</p>
<p><strong>fr.esrf.tangoatk.widget.jdraw.SimpleSynopticAppli</strong></p>
<p>You can pass the absolute path of the synoptic file as the argument to
the SimpleSynopticAppli. In case no argument is passed on the command
line, the application will popup a file selection dialog in order to get
the name of the synoptic file to load.</p>
<p>The following screenshot shows the SimpleSynopticAppli with the synoptic
file loaded.</p>
<p><a class="reference internal" href="../../_images/image34.jpeg"><img alt="image30" src="../../_images/image34.jpeg" style="width: 3.59514in; height: 1.60694in;" /></a></p>
<p>As you can see the rectangle shows the value of fp/test/1/state
attribute. The state attribute value is represented by it’s
corresponding color (blue). Moreover you can see the value of the
<em>“fp/test/1/double_scalar”</em> value displayed by the SimpleScalarViewer
inside the synoptic.</p>
<p>If the mouse enters the blue rectangle (while the focus is inside the
synoptic window), a tooltip will display the name of the Tango attribute
associated to the rectangle. The same goes for the region where the
numeric value (177.83) is displayed.</p>
<p>A mouse click inside the blue rectangle will launch an AtkPanel for the
device fp/test/1. The AtkPanel is started by default in read-only mode :
device commands and attribute setters are not displayed.</p>
<p><em>Conclusion :</em></p>
<ul class="simple">
<li>A synoptic drawing can easily be made using the drawing tool Jdraw
included in ATK.</li>
<li>The association between the graphic components inside the drawing and
the control system Tango objects are made through the name of the
graphic components.</li>
<li>A Simple Synoptic application is provided to test the run-time
behaviour of the synoptic. It can be started directly from the Jdraw
editor’s menubar or outside Jdraw.</li>
</ul>
</div>
<div class="section" id="jdraw-editor">
<h2>Jdraw editor<a class="headerlink" href="#jdraw-editor" title="Permalink to this headline">¶</a></h2>
<p>We will not explain in detail Jdraw editor. In fact, it is a very
intuitive editor and you can just try it to get experience with it.
Neverthelesse there are some Jdraw features which will be described in
this section.</p>
<div class="section" id="jdraw-libraries">
<h3>Jdraw libraries<a class="headerlink" href="#jdraw-libraries" title="Permalink to this headline">¶</a></h3>
<p>You can draw your own standrad shapes and save them in a file such that
they can be used in other synoptic files.</p>
<ol class="arabic simple">
<li>Draw your standrard / predefined shapes in the Jdraw editor.</li>
<li>Save the file by naming it with a <strong>“.lib”</strong> suffix.</li>
<li>Move your <strong>“.lib”</strong> file to a well defined location on your disk.</li>
<li>Set the “LIBPATH” environment variable to the folder where is located
your <strong>“.lib”</strong> file.</li>
<li>Start the jdraw java machine with “-DLIBPATH=$LIBPATH”.</li>
<li>Note on the top right corner the “Palette Libraries” ComboBox. You
should see inside the drop down list the name of the <strong>“.lib”</strong> file.</li>
</ol>
<p>When the library name is selected it’s content is displayed in a
separate window. You can simply click one component in the library
window and click the jdraw window to add it into your drawing. See the
screenshot below :</p>
<p><a class="reference internal" href="../../_images/image35.jpeg"><img alt="image31" src="../../_images/image35.jpeg" style="width: 6.29167in; height: 2.47014in;" /></a></p>
</div>
<div class="section" id="atk-viewers-in-jdraw">
<h3>ATK Viewers in Jdraw<a class="headerlink" href="#atk-viewers-in-jdraw" title="Permalink to this headline">¶</a></h3>
<p>A small set of ATK viewers are available in Jdraw so that they can be
added inside the synoptic drawing. To add one of them click on “ATK
Swing” button and select an appropriate viewer from the list.When using
the ATK viewers you may need to set some of their “bean properties” to
make them behave as you wish. A subset of the properties of each viewer
is accessible through jdraw. To see and to edit those properties, double
click the atk viewer, then select the “Extension” tab in the property
window. For example in the screen shot below you can see all the bean
properties available in Jdraw for the SimpleScalarViewer.</p>
<p><a class="reference internal" href="../../_images/image36.jpeg"><img alt="image32" src="../../_images/image36.jpeg" style="width: 3.29167in; height: 3.18472in;" /></a></p>
</div>
<div class="section" id="dynamic-objects-dynos">
<h3>Dynamic Objects (Dynos)<a class="headerlink" href="#dynamic-objects-dynos" title="Permalink to this headline">¶</a></h3>
<p>Dynamic Objects also called Dynos in Jdraw are the graphic components
for which the user has defined a dynamic (run-time) behavior.</p>
<p>For example a Dyno can be any graphic component associated to a numeric
tango attribute and for which the user has defined a specific background
color depending on the value of the attribute. You can see how to create
and use the dynos in Jdraw in the following flash demo.</p>
<p><a class="reference external" href="http://www.esrf.fr/computing/cs/tango/tango_doc/atk_tutorial/flash-demos/jdraw_dyno.htm">Dynamic Objects in Jdraw (Flash
Demo)</a></p>
</div>
<div class="section" id="panel-class-definition">
<h3>Panel class definition<a class="headerlink" href="#panel-class-definition" title="Permalink to this headline">¶</a></h3>
<p>In a synoptic application when a graphic component is clicked by the
user, in most cases, we need to launch a specific panel. In Jdraw you
have the possibility to define the name of the class you want to start
when the Jdraw object is clicked. To associated a Jdraw graphic
component to a panel follow the steps below :</p>
<ol class="arabic simple">
<li>Double click the Jdraw graphic object to show the <strong>Properties</strong> window</li>
<li>Select the <strong>Extension</strong> Tab inside the Properties window</li>
<li>Click on the <strong>“New”</strong> button to add a new extension and give it
the name <strong>“className”</strong></li>
<li>Type in the fully defined class name of the panel you want to show,
in the value field attached to <strong>className</strong> extension</li>
<li>Optionnally click on the <strong>“New”</strong> button to add another
extension and give it the name <strong>“classParam”</strong></li>
<li>Type in the string which is passed to the constructor of the panel
class</li>
</ol>
<p><a class="reference internal" href="../../_images/image37.jpeg"><img alt="image33" src="../../_images/image37.jpeg" style="width: 3.29167in; height: 3.16042in;" /></a></p>
<p>The “panel class” defined with “className” extension :</p>
<ul class="simple">
<li>Should be a subclass of JFrame or Jdialog</li>
<li>Must have a constructor with a String parameter (even if the
parameter is ignored)</li>
<li>Should not call system.exit() when it’s window is closed</li>
</ul>
<p><strong>Conclusion</strong></p>
<ul class="simple">
<li>The specific full qualified panel class name should be specified in
the <strong>“Extension”</strong> tab of the property window under the name of
<strong>“className”</strong>.</li>
<li>The string parameter which will be passed to the panel class
constructor can also be defined in the <strong>“Extension”</strong> tab of the
property window under the name of <strong>“classParam”</strong>.</li>
<li>If the <strong>classParam</strong> is not defined the constructor of the class is
called with the name of the jdraw graphic object which has been
clicked.</li>
<li>If the <strong>className</strong> is not defined and the jdraw graphic object is
associated to a Tango state attribute, <strong>atkpanel</strong> will be started
in read only mode.</li>
</ul>
</div>
</div>
<div class="section" id="include-the-synoptic-in-an-atk-application">
<h2>Include the Synoptic in an ATK application<a class="headerlink" href="#include-the-synoptic-in-an-atk-application" title="Permalink to this headline">¶</a></h2>
<p>Once the synoptic is drawn and well tested, it can be used through the
generic application <strong>SimpleSynopticAppli</strong>. To launch the
<strong>SimpleSynopticAppli</strong> start the following class :</p>
<p><strong>fr.esrf.tangoatk.widget.jdraw.SimpleSynopticAppli</strong></p>
<p>In most cases, the synoptic should be integrated inside a specific ATK
application in the middle of other ATK viewers.</p>
<p><a class="reference internal" href="../../_images/image311.jpeg"><img alt="image34" src="../../_images/image311.jpeg" style="width: 6.29792in; height: 3.66042in;" /></a></p>
<p>As you can see in the screen shot the synoptic is only part of the
application’s main window. There are other ATK attribute and command
viewers outside of the synoptic area. Moreover there is also a specific
menu bar with a lot of application specific commands.</p>
<div class="section" id="synopticfileviewer">
<h3>SynopticFileViewer<a class="headerlink" href="#synopticfileviewer" title="Permalink to this headline">¶</a></h3>
<p>ATK provides a viewer called <strong>SynopticFileViewer</strong> which belongs to the
package : <strong>fr.esrf.tangoatk.widget.jdraw</strong>. This viewer can be used as
any other ATK viewer. It can be added into any Swing container. It can
also be added to a Java IDE palette (for example Netbeans palette) as a
Java Bean.</p>
<p>Once the SynopticFileViewer is instantiated, the programmer should
specify the synoptic file to be loaded by the viewer. There are two
methods for synoptic file specification :</p>
<ol class="arabic simple">
<li>Load the synoptic from a file specified by a path name on the disk,</li>
<li>Load the synoptic from an Input Stream Reader.</li>
</ol>
</div>
<div class="section" id="load-the-synoptic-from-a-file">
<h3>Load the synoptic from a file<a class="headerlink" href="#load-the-synoptic-from-a-file" title="Permalink to this headline">¶</a></h3>
<p>The application programmer will specify the file path name of the
synoptic file to load. The drawback of this option is that the
application programmer must know the absolute path name of the synoptic
file and this path name is constant even if the application is deployed
in different hosts and sites.</p>
<p>The following code sample shows how to use a SynopticFileViewer and
specify the synoptic file to load:</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">SynopticFileViewer</span>  <span class="n">sfv</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SynopticFileViewer</span><span class="o">();</span>

<span class="n">sfv</span><span class="o">.</span><span class="na">setToolTipMode</span><span class="o">(</span><span class="n">TangoSynopticHandler</span><span class="o">.</span><span class="na">TOOL_TIP_NAME</span><span class="o">);</span>
<span class="n">sfv</span><span class="o">.</span><span class="na">setAutoZoom</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">Try</span>
<span class="o">{</span>
    <span class="n">sfv</span><span class="o">.</span> <span class="nf">setJdrawFileName</span> <span class="o">(</span><span class="s">&quot;/my/root/dir/jdraw_file mySynoptic.jdw &quot;</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">Catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{}</span>
</pre></div>
</td></tr></table></div>
<p>The call to <strong>“setJdrawFileName”</strong> will load the synoptic file if it
can be found and opened, otherwise an exception is thrown.</p>
</div>
<div class="section" id="load-the-synoptic-from-an-input-stream-reader">
<h3>Load the synoptic from an Input Stream Reader<a class="headerlink" href="#load-the-synoptic-from-an-input-stream-reader" title="Permalink to this headline">¶</a></h3>
<p>The main advantage of this method is that the synoptic jdraw file can be
included into the application jarfile. An input stream reader is created
through the file resource by the application code. This input stream
reader is passed to the SynopticFileViewer to load the synoptic.</p>
<p>This option allows that the synoptic file is packed inside the
application Jar file and we don’t make any assumption on the exact
physical location of the synoptic file on the disk.The following code
sample shows how to use a SynopticFileViewer and specify the synoptic
file to load:</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>SynopticFileViewer  sfv = new SynopticFileViewer();
sfv.setToolTipMode(TangoSynopticHandler.TOOL_TIP_NAME);
sfv.setAutoZoom(true);
InputStreamReader   inStrReader=null;
InputStream   jdFileInStream = this.getClass().getResourceAsStream(&quot;/mypakcage/file.jdw”);
if (jdFileInStream!=null)
    inStrReader = new InputStreamReader(jdFileInStream);
if (inStrReader!=null)
{
     Try
    {
       sfv .loadSynopticFromStream(inStrReader);
    }
    Catch (Exception ex) {}
}
</pre></div>
</td></tr></table></div>
<p>The call to <strong>“loadSynopticFromStream”</strong> will load the synoptic from
the input stream if possible. In case of bad format or an empty stream
(no component) an exception is thrown.</p>
</div>
</div>
<div class="section" id="predefined-run-time-behavior">
<h2>Predefined run time behavior<a class="headerlink" href="#predefined-run-time-behavior" title="Permalink to this headline">¶</a></h2>
<p>The synoptic file is loaded by ATK at run-time. All the run time
animation / behavior is coded inside Atk class which loads the synoptic.
All of the run time behavior is listed in this section.</p>
<div class="section" id="attribute">
<h3>Attribute<a class="headerlink" href="#attribute" title="Permalink to this headline">¶</a></h3>
<p>A Tango state attribute can be associated to any jdraw graphic object.
From a simple drawing to a complex shape made of successive groups. A
tango state attribute can also be associated to a Dyno.</p>
<p><em>Associated to a Jdraw Object (not a Dyno)</em></p>
<p>ATK will color the object according to the value of the state attribute.
The state/color mapping is the same as the one used in all other parts /
viewers of ATK.</p>
<ul class="simple">
<li>If the object is filled : the fill color is changed</li>
<li>If the object is not filled : the line color is changed</li>
<li>If the object is made of successive groups, the change is made
recursively in each group util the basic graphic objects are reached.
In this hierarchy of objects, the graphic objects whose name is
<strong>“IgnoreRepaint”</strong> do not change their color at all.</li>
</ul>
<p><em>Associated to a Dyno (Dynamic Object)</em></p>
<p>As described in the previous section a Dynamic Object (Dyno) has a
specific dynamic behavior which has been defined during the drawing
phase. In order to define your own behavior with a Dyno associated to a
State attribute, you should define the mapping between each different
tango state numeric values and the caracteristique affected by the
value.</p>
<p>It’s important to know that the Dyno will receive at run time a numeric
value associated to the state attribute value. You can find the mapping
between the numeric values and the tango state values in the Tango
<a class="reference external" href="http://www.esrf.eu/computing/cs/tango/tango_doc/kernel_doc/tango_java_api/classes/constant-values.html">documentation</a>:</p>
<p><em>User interaction</em></p>
<p>When the <strong>mouse enters</strong> the graphic component associated to the state
attribute, the name of the state attribute is displayed inside a
<strong>tooltip</strong>.</p>
<p>When an object associated to a state attribute is clicked by the user at
run time, ATK tries to popup a panel.</p>
<ul class="simple">
<li>If the <strong>“className”</strong> extension is defined, the class is
instantiated using a constructor with a String parameter.</li>
<li>If the <strong>“className”</strong> extension is not defined the AtkPanel in
read-only mode is instantiated.</li>
<li>If the <strong>“classParam”</strong> extension is defined, the string is
passed as the argument to the constructor of the panel class.</li>
<li>If the <strong>“classParam”</strong> extension is not defined, the device name
behind the state attribute is passed as the argument to the
constructor of the panel class.</li>
</ul>
</div>
<div class="section" id="tango-numeric-attribute">
<h3>Tango Numeric Attribute<a class="headerlink" href="#tango-numeric-attribute" title="Permalink to this headline">¶</a></h3>
<p>A Tango numeric attribute can be associated to a Dyno (Dynamic Object)
or to an adapted Atk Viewer (for example SimpleScalarViewer).</p>
<p><em>Associated to a Dyno (Dynamic Object)</em></p>
<p>As described in the previous sections a Dynamic Object (Dyno) has a
specific dynamic behavior which has been defined during the drawing
phase. In order to define your own behavior with a Dyno associated to a
tango numeric attribute, you should define the mapping between different
values of the tango attribute and the caracteristique affected by the
value. You can for example associate “value intervals” to a
caracteristique change. See the <a class="reference external" href="http://www.esrf.fr/computing/cs/tango/tango_doc/atk_tutorial/flash-demos/jdraw_dyno.htm">Dynamic Objects in Jdraw (Flash
Demo)</a>.</p>
<p>It’s important to know that the Dyno will receive at run time the
numeric value of the tango attribute when it changes.</p>
<p><em>Associated to an Atk Viewer (for example SimpleScalarViewer)</em></p>
<p>The tango attribute will be set as the model of the AtkViewer
(SimpleScalarViewer) and that’s it. All the run-time behavior is defined
by the AtkViewer which is used.</p>
<p>Some of the bean properties of the Atk Viewer are available in the
extension Tab of the Jdraw properties window.</p>
<p><em>User interaction</em></p>
<p>When the <strong>mouse enters</strong> the graphic component associated to the tango
numeric attribute, the name of the tango attribute is displayed inside a
<strong>tooltip</strong>.</p>
<p>When an object associated to the tango attribute is selected by the user
at run time, ATK tries to popup a panel :</p>
<ul class="simple">
<li>If the <strong>“className”</strong> extension is defined, the class is
instantiated using a constructor with a String parameter.</li>
<li>If the <strong>“classParam”</strong> extension is defined, the string is
passed as the argument to the constructor of the panel class.</li>
<li>If the <strong>“classParam”</strong> extension is not defined, the name of the
Jdraw object (which is the name of the Tango numeric attribute) is
passed as the argument to the constructor of the panel class.</li>
<li>If the <strong>“className”</strong> extension is not defined nothing happens</li>
</ul>
</div>
<div class="section" id="tango-boolean-attribute">
<h3>Tango Boolean Attribute<a class="headerlink" href="#tango-boolean-attribute" title="Permalink to this headline">¶</a></h3>
<p>A Tango boolean attribute can be associated to a Dyno (Dynamic Object)
or to an adapted Atk Viewer (for example BooleanScalarCheckboxViewer).</p>
<p><em>Associated to a Dyno (Dynamic Object)</em></p>
<p>In order to define your own behavior with a Dyno associated to a tango
boolean attribute, you should define the mapping between the two values
of the boolean attribute (true and false) and the caracteristique
affected by the value. See the <a class="reference external" href="http://www.esrf.fr/computing/cs/tango/tango_doc/atk_tutorial/flash-demos/jdraw_dyno.htm">Dynamic Objects in Jdraw (Flash
Demo)</a>.</p>
<p>It’s important to know that the Dyno will receive at run time the
numeric value for the boolean attribute. It means that if the attribute
value is false, the value 0 is sent to the Dyno and if the attribute
value is true the value 1 is sent to the Dyno.</p>
<p><em>Associated to an Atk Viewer (for example BooleanScalarCheckboxViewer)</em></p>
<p>The tango attribute will be set as the model of the AtkViewer
(<em>BooleanScalarCheckboxViewer</em>). All the run-time behavior is defined by
the AtkViewer which is used.</p>
<p>Some of the bean properties of the Atk Viewer are available in the
extension Tab of the Jdraw properties window.</p>
<p><em>User interaction</em></p>
<p>When the <strong>mouse enters</strong> the graphic component associated to the tango
numeric attribute, the name of the tango attribute is displayed inside a
<strong>tooltip</strong>.</p>
<p>When an object associated to the tango attribute is selected by the user
at run time, ATK tries to popup a panel :</p>
<ul class="simple">
<li>If the <strong>“className”</strong> extension is defined, the class is
instantiated using a constructor with a String parameter.</li>
<li>If the <strong>“classParam”</strong> extension is defined, the string is
passed as the argument to the constructor of the panel class.</li>
<li>If the <strong>“classParam”</strong> extension is not defined, the name of the
Jdraw object (which is the name of the Tango boolean attribute) is
passed as the argument to the constructor of the panel class.</li>
<li>If the <strong>“className”</strong> extension is not defined nothing happens</li>
</ul>
</div>
<div class="section" id="tango-devstate-spectrum-attribute">
<h3>Tango DevState Spectrum Attribute<a class="headerlink" href="#tango-devstate-spectrum-attribute" title="Permalink to this headline">¶</a></h3>
<p>An element of a Tango DevState spectrum attribute can be associated to
any jdraw graphic object. From a simple drawing to a complex shape made
of successive groups. An element of a Tango DevState spectrum attribute
can also be associated to a Dyno. To assign an element of a DevState
spectrum attribute we use the brakets. So to associate the 10 <sup>th</sup>
element of the state spectrum attribute sr/rf-tra/tra1/SubDevicesStates,
the name of the graphic component should be
<strong>sr/rf-tra/tra1/SubDevicesStates[9]</strong>.</p>
<p><em>Associated to a Jdraw Object (not a Dyno)</em></p>
<p>ATK will color the object according to the value of the element
specified in the state spectrum attribute. The state/color mapping is
the same as the one used in all other parts / viewers of ATK.</p>
<ul class="simple">
<li>If the object is filled : the fill color is changed according to the
state value</li>
<li>If the object is not filled : the line color is changed according to
the state value</li>
<li>If the object is made of successive groups, the change is made
recursively in each group util the basic graphic objects are reached.
In this hierarchy of objects, the graphic objects whose name is
<strong>“IgnoreRepaint”</strong> do not change their color at all.</li>
</ul>
<p><em>Associated to a Dyno (Dynamic Object)</em></p>
<p>As described in the previous sections a Dynamic Object (Dyno) has a
specific dynamic behavior which has been defined during the drawing
phase. In order to define your own behavior with a Dyno associated to an
element of a State spectrum attribute, you should define the mapping
between each different tango state numeric values and the
caracteristique affected by the value.</p>
<p>It’s important to know that the Dyno will receive at run time a numeric
value associated to the state attribute value. You can find the mapping
between the numeric values and the tango state values in the Tango
<a class="reference external" href="http://www.esrf.eu/computing/cs/tango/tango_doc/kernel_doc/tango_java_api/classes/constant-values.html">documentation</a>:</p>
<p><em>User interaction</em></p>
<p>When the <strong>mouse enters</strong> the graphic component associated to the state
spectrum attribute, the name of the state spectrum attribute + index of
the element in the spectrum is displayed inside a <strong>tooltip</strong>.</p>
<p>When an object associated to a state attribute is clicked by the user at
run time, ATK tries to popup a panel.</p>
<ul class="simple">
<li>If the <strong>“className”</strong> extension is defined, the class is
instantiated using a constructor with a String parameter.</li>
<li>If the <strong>“classParam”</strong> extension is defined, the string is
passed as the argument to the constructor of the panel class.</li>
<li>If the <strong>“classParam”</strong> extension is not defined, the name of the
Jdraw object (which is the name of the element of a tango DevState
spectrum attribute) is passed as the argument to the constructor of
the panel class.</li>
<li>If the <strong>“className”</strong> extension is not defined nothing happens</li>
</ul>
</div>
<div class="section" id="tango-command">
<h3>Tango Command<a class="headerlink" href="#tango-command" title="Permalink to this headline">¶</a></h3>
<p>A Tango Command can be associated to a Jdraw interactive component or to
an adapted Atk Viewer (for example VoidVoidCommandViewer).</p>
<p><em>Associated to a Jdraw interactive component</em></p>
<p>When the interactive graphic component is clicked, the tango command is
executed.</p>
<p><em>Associated to an Atk Viewer (for example VoidVoidCommandViewer)</em></p>
<p>The tango attribute will be set as the model of the AtkViewer
(VoidVoidCommandViewer). All the run-time behavior is defined by the
AtkViewer which is used.</p>
<p>Some of the bean properties of the Atk Viewer are available in the
extension Tab of the Jdraw properties window.</p>
<p><em>User interaction</em></p>
<p>When the <strong>mouse enters</strong> the graphic component associated to the tango
command, the name of the tango command is displayed inside a
<strong>tooltip</strong>.</p>
<p>When the interactive object associated to the tango command is clicked
by the user at run time, ATK sends the command to the associated Tango
device.</p>
</div>
<div class="section" id="other-types-of-tango-attributes">
<h3>Other types of Tango Attributes<a class="headerlink" href="#other-types-of-tango-attributes" title="Permalink to this headline">¶</a></h3>
<p>Other type of Tango attributes can be associated only to an Atk viewer
avialable in Jdraw editor under the “Atk Swing” button. They cannot be
associated to a Jdraw graphic component. The use of an Atk viewer is
mandatory.</p>
<p>The following tango attributes can be used in Jdraw and associated to
their corresponding Atk viewers as listed below :</p>
<ul class="simple">
<li><strong>String Scalar</strong> attribute should be associated to a
<strong>SimpleScalarViewer</strong></li>
<li><strong>Numeric Spectrum</strong> attribute should be associated to a
<strong>NumberSpectrumViewer</strong></li>
<li><strong>Numeric Image</strong> attribute should be associated to a
<strong>NumberImageViewer</strong></li>
</ul>
<p>The run time behavior is the one provided by the Atk viewer.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../atk/index.html" class="btn btn-neutral float-right" title="Tango Application Toolkit “ATK”" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../pogo/compatibility.html" class="btn btn-neutral" title="Pogo-6 Compatibility" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Tango Community, Creative Commons Attribution 4.0 International (CC BY 4.0).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'9.2.5',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>